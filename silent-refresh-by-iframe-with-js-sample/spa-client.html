<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <div>
    <div>Normally this iframe should be hidden!</div>
    <!-- <iframe id="refresh_token_handler" src="authentication-server-refresh-token-page.html"></iframe> -->
    <script src="dist.js"></script>
  </div>
  <button onclick="doRefresh();">Renew Access Token by Silent Refresh Way Test</button>
  <button onclick="doRefresh2();">Fail Renew Access Token by Silent Refresh Way Test</button>
  <script>
    // Usage
    const silentRefresher1 = new SilentRefresher('/authentication-server-refresh-token-page.html', 5000, { tokenRenewed: 'TOKEN-RENEWED' });

    const doRefresh = () => {
      silentRefresher1.perform(() => console.log(new Date())).then(val => console.log(val, 'All done!!')).catch(e => console.error(e, `Some error`));
    }

    const silentRefresher2 = new SilentRefresher('/no-exist', 2000);

    const doRefresh2 = () => {
      silentRefresher2.perform().then(val => console.log(val, 'All done!!')).catch(e => console.error(e, `Some error`));
    }

  </script>
</body>
</html>
